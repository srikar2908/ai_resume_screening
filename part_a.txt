cp

#include <stdio.h>

int main() {
    char src[50], dest[50];
    FILE *f1, *f2;
    char ch;

    printf("Enter source file: ");
    scanf("%s", src);
    printf("Enter destination file: ");
    scanf("%s", dest);

    f1 = fopen(src, "r");
    f2 = fopen(dest, "w");

    if (!f1 || !f2) {
        printf("File error!\n");
        return 1;
    }

    while ((ch = fgetc(f1)) != EOF) {
        fputc(ch, f2);
    }

    printf("File copied successfully.\n");

    fclose(f1);
    fclose(f2);
    return 0;
}
----------------------------------------------------------
ls

#include <stdio.h>
#include <dirent.h>

int main() {
    DIR *d;
    struct dirent *f;

    d = opendir("."); // current directory
    if (d == NULL) {
        printf("Cannot open directory\n");
        return 1;
    }

    while ((f = readdir(d)) != NULL) {
        printf("%s\n", f->d_name);
    }

    closedir(d);
    return 0;
}
---------------------------------------------------------
grep

#include <stdio.h>
#include <string.h>

int main() {
    char word[50], filename[50], line[200];
    FILE *f;

    printf("Enter word to search: ");
    scanf("%s", word);
    printf("Enter filename: ");
    scanf("%s", filename);

    f = fopen(filename, "r");
    if (!f) {
        printf("File not found!\n");
        return 1;
    }

    while (fgets(line, sizeof(line), f)) {
        if (strstr(line, word)) {
            printf("%s", line);
        }
    }

    fclose(f);
    return 0;
}
----------------------------------------------------------------------
fork

#include <stdio.h>
#include <unistd.h>

int main() {
    pid_t pid;

    pid = fork();  // create a child process

    if (pid < 0) {
        printf("Fork failed.\n");
    } else if (pid == 0) {
        printf("This is the child process.\n");
    } else {
        printf("This is the parent process.\n");
    }

    return 0;
}
-------------------------------------------------------------------------
exec

#include <stdio.h>
#include <unistd.h>

int main() {
    printf("Before exec call\n");

    // Replace this program with the "ls" command
    execl("/bin/ls", "ls", "-l", NULL);

    printf("This line will run only if exec fails\n");
    return 0;
}
----------------------------------------------------------------------------
wait

#include <stdio.h>
#include <unistd.h>
#include <sys/wait.h>

int main() {
    pid_t pid = fork();   // Create a child process

    if (pid == 0) {
        // Child process
        printf("Child process is running...\n");
        sleep(2);  // Simulate some work
        printf("Child process finished.\n");
    } 
    else {
        // Parent process
        printf("Parent is waiting for child to finish...\n");
        wait(NULL);  // Parent waits here
        printf("Child has completed. Parent continues.\n");
    }

    return 0;
}
----------------------------------------------------------------------------
exit


#include <stdio.h>
#include <stdlib.h>

int main() {
    printf("Program started.\n");
    printf("Exiting the program now using exit().\n");
    exit(0);   // Exit with status 0 (success)
    // Code after exit() will not run
    printf("This line will never be printed.\n");
    return 0;
}

----------------------------------------------------------------------------
opendir readdir

#include <stdio.h>
#include <dirent.h>

int main() {
    DIR *dir;
    struct dirent *entry;

    dir = opendir("."); // open current directory

    if (dir == NULL) {
        printf("Cannot open directory!\n");
        return 1;
    }

    while ((entry = readdir(dir)) != NULL) {
        printf("%s\n", entry->d_name);
    }

    closedir(dir);
    return 0;
}
----------------------------------------------------------------------------------
search for a file word in a file

#include <stdio.h>
#include <string.h>
#include <dirent.h>

int main() {
    char filename[100], word[100], line[200];
    int found = 0;

    printf("Enter filename to search: ");
    scanf("%s", filename);

    // Search file in current directory
    DIR *dir = opendir(".");
    struct dirent *entry;

    while ((entry = readdir(dir)) != NULL) {
        if (strcmp(entry->d_name, filename) == 0) {
            printf("File '%s' found!\n", filename);
            found = 1;
            break;
        }
    }
    closedir(dir);

    if (!found) {
        printf("File not found!\n");
        return 0;
    }

    // Search for a word inside the file
    printf("Enter word to search inside file: ");
    scanf("%s", word);

    FILE *fp = fopen(filename, "r");
    int line_num = 1, word_found = 0;

    while (fgets(line, sizeof(line), fp)) {
        if (strstr(line, word)) {
            printf("Found '%s' in line %d: %s", word, line_num, line);
            word_found = 1;
        }
        line_num++;
    }

    if (!word_found)
        printf("Word not found in file!\n");

    fclose(fp);
    return 0;
}
----------------------------------------------------------------------------
delete a file and directory

#include <stdio.h>

int main() {
    if (remove("test.txt") == 0)
        printf("File deleted successfully.\n");
    else
        printf("Error deleting file.\n");
    return 0;
}


#include <stdlib.h>

int main() {
    system("rm -r myfolder");
    printf("Directory deleted.\n");
    return 0;
}
-------------------------------------------------------------------------
permissions

#include <stdio.h>
#include <sys/stat.h>

int main() {
    struct stat fileStat;
    char filename[100];

    printf("Enter file name: ");
    scanf("%s", filename);

    if (stat(filename, &fileStat) < 0) {
        printf("Error getting file info!\n");
        return 1;
    }

    printf("File Size: %ld bytes\n", fileStat.st_size);
    printf("Owner Permissions: ");
    printf((fileStat.st_mode & S_IRUSR) ? "r" : "-");
    printf((fileStat.st_mode & S_IWUSR) ? "w" : "-");
    printf((fileStat.st_mode & S_IXUSR) ? "x\n" : "-\n");

    return 0;
}
---------------------------------------------------------------------------
login user date time

#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main() {
    // Show current user
    char *user = getenv("USERNAME"); // for Windows
    if (user == NULL)
        user = getenv("USER"); // for Linux
    printf("Current User: %s\n", user);
    printf("%s\n",getlogin());

    // Show current date and time
    time_t now;
    time(&now);
    printf("Current Date and Time: %s", ctime(&now));

    return 0;
}
------------------------------------------------------------------------


